<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>spring-data-jpa 与 mybatis | 黄超的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="spring data Jpa官网Spring Data JPA是Spring Data的子模块。JPA诞生的缘由是为了整合第三方ORM框架，建立一种标准的方式，使用Spring-data-jpa进行开发的过程中，常用的功能，我们几乎不需要写一条sql语句  搭建springboot环境 &amp;lt;!-- springdata jpa依赖 --&amp;gt; &amp;lt;dependency&amp;gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="spring-data-jpa 与 mybatis">
<meta property="og:url" content="http://yoursite.com/2018/12/18/h2/index.html">
<meta property="og:site_name" content="黄超的博客">
<meta property="og:description" content="spring data Jpa官网Spring Data JPA是Spring Data的子模块。JPA诞生的缘由是为了整合第三方ORM框架，建立一种标准的方式，使用Spring-data-jpa进行开发的过程中，常用的功能，我们几乎不需要写一条sql语句  搭建springboot环境 &amp;lt;!-- springdata jpa依赖 --&amp;gt; &amp;lt;dependency&amp;gt;">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-12-18T12:41:32.903Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="spring-data-jpa 与 mybatis">
<meta name="twitter:description" content="spring data Jpa官网Spring Data JPA是Spring Data的子模块。JPA诞生的缘由是为了整合第三方ORM框架，建立一种标准的方式，使用Spring-data-jpa进行开发的过程中，常用的功能，我们几乎不需要写一条sql语句  搭建springboot环境 &amp;lt;!-- springdata jpa依赖 --&amp;gt; &amp;lt;dependency&amp;gt;">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link type="text/css" href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/scrollUp/image.css">
  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
</head></html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <div class="logo">
        <img src="/timg.jpg" alt="Profile Picture">
      </div>
      <div id="title">黄超的博客</div>
      
       <ul class="my-socials">
  
  <li>
  	<a href="https://github.com/yellowsuper" class="github" target="_blank">
  		<i class="fa fa-github"></i>
  	</a>
  </li>
  
  <li>
  	<a href="http://weibo.com/u/3160986480" class="weibo" target="_blank">
  		<i class="fa fa-weibo"></i>
  	</a>
  </li>
  
 
</ul>
    </div>
  </div>
  <div id="header-inner" class="">
    <nav id="main-nav">
      <a id="main-nav-toggle" class="nav-icon"></a>
      <!--
        
          
            <a class="main-nav-link" href="/">首页</a>
          
            <a class="main-nav-link" href="/category">技术</a>
          
            <a class="main-nav-link" href="/archives">归档</a>
          
        
      -->
    </nav>
    <nav id="title-nav" style="display:none">
      <a href="/">黄超的博客</a>
      <img src="/timg.jpg" alt="Profile Picture">
      <!--
      <span id="title-nav-socials">
        
          <a href="https://github.com/yellowsuper" class="github" target="_blank">
            <i class="fa fa-github"></i>
          </a>
        
          <a href="http://weibo.com/u/3160986480" class="weibo" target="_blank">
            <i class="fa fa-weibo"></i>
          </a>
        
       
     </span>
      -->
    </nav>
    <nav id="sub-nav">
      
      <a id="nav-search-btn" class="nav-icon" title="Search"></a>
    </nav>
    <div id="search-form-wrap">
      <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
        <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
        <input type="submit" value="" class="search-form-submit">
        <input name="tn" type="hidden" value="bds">
        <input name="cl" type="hidden" value="3">
        <input name="ct" type="hidden" value="2097152">
        <input type="hidden" name="si" value="yoursite.com">
      </form>
    </div>
  </div>
  <div class="site-nav" style="display: none;">
    <ul>
      
      
        <li><a href="/">首页</a></li>
      
        <li><a href="/category">技术</a></li>
      
        <li><a href="/archives">归档</a></li>
      
      
    </ul>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-h2" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/18/h2/" class="article-date">
  <time datetime="2018-12-18T12:32:33.970Z" itemprop="datePublished">2018-12-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      spring-data-jpa 与 mybatis
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="spring-data-Jpa"><a href="#spring-data-Jpa" class="headerlink" title="spring data Jpa"></a>spring data Jpa</h2><p><a href="https://spring.io/projects/spring-data-jpa" target="_blank" rel="noopener">官网</a><br>Spring Data JPA是Spring Data的子模块。JPA诞生的缘由是为了整合第三方ORM框架，建立一种标准的方式，使用Spring-data-jpa进行开发的过程中，常用的功能，我们几乎不需要写一条sql语句</p>
<ol>
<li><p>搭建springboot环境</p>
<p><code>&lt;!-- springdata jpa依赖 --&gt;</code></p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre></li>
<li><p>配置文件<br><code>### Java Persistence Api</code><br><code>########################################################</code><br><code># Specify the DBMS</code><br><code>spring.jpa.database = MYSQL</code><br><code># Show or not log for each sql query</code><br><code>spring.jpa.show-sql = true</code><br><code># Hibernate ddl auto (create, create-drop, update)</code><br><code>spring.jpa.hibernate.ddl-auto = update</code><br><code># Naming strategy</code><br><code>#[org.hibernate.cfg.ImprovedNamingStrategy</code>            <code>#org.hibernate.cfg.DefaultNamingStrategy]</code><br><code>spring.jpa.hibernate.naming-strategy =</code> <code>org.hibernate.cfg.ImprovedNamingStrategy</code><br><code># stripped before adding them to the entity manager)</code><br><code>spring.jpa.properties.hibernate.dialect =</code> <code>org.hibernate.dialect.MySQL5Dialect</code></p>
</li>
<li><p>持久层</p>
</li>
</ol>
<p><code>import org.springframework.data.repository.CrudRepository;</code><br><code>import com.xujie.pojo.Target;</code><br><code>public interface TargetRepository extends CrudRepository&lt;Target,Integer&gt;{}</code></p>
<ol start="4">
<li>Entity</li>
</ol>
<p><code>import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
@Entity(name=&quot;target&quot;)  
    public class Target {
    @Id 
    @GeneratedValue 
    private int tid;
    @Column(name=&quot;tname&quot;,length=20)  
    private String tname;
    public int getTid() {
        return tid;
    }
    public void setTid(int tid) {
        this.tid = tid;
    }
    public String getTname() {
        return tname;
    }
    public void setTname(String tname) {
        this.tname = tname;
    }
    @Override
    public String toString() {
        return &quot;Target [tid=&quot; + tid + &quot;, tname=&quot; + tname + &quot;]&quot;;
    }
}</code></p>
<ol start="5">
<li>service</li>
</ol>
<p><code>import javax.annotation.Resource;
import org.springframework.stereotype.Service;
import com.xujie.pojo.Target;
import com.xujie.repository.TargetRepository;
import com.xujie.service.TargetService;
@Service
public class TargetServiceimpl implements TargetService {
    // @Resource是根据名称注入 @Autowired是根据类型注入
    @Resource
    private TargetRepository targetRepository;
    //添加
    @Override
    public void save(Target target) {
        this.targetRepository.save(target);
    }
    //删除
    @Override
    public void delete(Integer id) {
        this.targetRepository.delete(id);
    }
    //查询
    @Override
    public List&lt;Target&gt; findAll(){
        return (List&lt;Target&gt;) this.targetRepository.findAll();
    }
}</code></p>
<h2 id="mybatis"><a href="#mybatis" class="headerlink" title="mybatis"></a>mybatis</h2><p><a href="http://www.mybatis.org/mybatis-3/zh/index.html" target="_blank" rel="noopener">官网</a></p>
<ol>
<li>环境<br><code>&lt;dependency&gt;
&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
&lt;version&gt;1.3.1&lt;/version&gt;
&lt;/dependency&gt;</code></li>
<li>xml配置<br><code>mybatis.mapper-locations=classpath*:mapper/**/*.xml</code><br><code>#扫描pojo类的位置,在此处指明扫描实体类的包，在mapper中就可   以不用写pojo类的全路径名了
mybatis.type-aliases-package=com.cuit</code></li>
<li>dao</li>
</ol>
<p><code>@Mapper//加上该注解才能使用@MapperScan扫描到也可用@repository
public interface UserDao {
    User getUserById(@Param(&quot;id&quot;) int id);
    int updateUser(@Param(&quot;user&quot;) User user);
    int insertUser(@Param(&quot;user&quot;) User user);
    int deleteUserById(@Param(&quot;id&quot;) int id);
}</code></p>
<p>##mybatis与jpa对比<br>mybatis官方文档就说了他是一个半自动化的持久层框架，相对于按自动的jpa更灵活，需要写sql<br>springDataJpa是对repository的封装，简化了repository的操作。JPA默认使用hibernate作为ORM实现</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="http://yoursite.com/2018/12/18/h2/" data-id="cjptqphdc000230mdq4fclmah" class="article-share-link">Share</a>
      

      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2018/12/17/h1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">eclipse tomcat启动报404错误</div>
    </a>
  
</nav>

  
</article>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 huang chao<br>
      Theme <a href="https://github.com/henryhuang/oishi" target="_blank">Oishi</a>, Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <!--
      <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/category" class="mobile-nav-link">技术</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
</nav>
    -->
    

<!-- 百度分享 start -->

<!-- 百度分享 end -->

<script src="//cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>



<script src="/js/jquery.scrollUp.min.js"></script>
<script src="/js/jquery.transform.js"></script>
<script src="/js/menu.js"></script>

<script src="/js/script.js"></script>
<script src="/js/scrollUp.js"></script>

  </div>
</body>
</html>